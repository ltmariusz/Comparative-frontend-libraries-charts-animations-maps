<!DOCTYPE html>
<html>

<head>
    <script src="./anime-master/lib/anime.min.js"></script>
</head>

<body onload="startAnimeJS()">
    <div id="animejsBox0" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox1" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox2" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox3" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox4" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox5" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox6" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox7" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox8" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox9" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <!-- <div id="animejsBox10" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox11" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox12" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox13" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox14" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox15" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox16" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox17" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox18" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox19" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox20" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox21" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox22" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox23" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox24" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox25" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox26" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox27" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox28" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox29" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox30" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox31" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox32" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox33" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox34" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox35" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox36" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox37" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox38" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox39" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox40" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox41" style="width: 100px; height: 100px; background: red; position: absolute;"></div>
    <div id="animejsBox42" style="width: 100px; height: 100px; background: red; position: absolute;"></div> -->
    

    <script>
        var start;

        function startAnimeJS() {
            start = performance.now();
            let animations = [];
            for (let i = 0; i <= 10; i++) {
                let anim = anime({
                    targets: `#animejsBox${i}`,
                    translateX: 250 + i * 10,
                    duration: 2000,
                    easing: 'linear',
                }).finished;
                animations.push(anim);
            }

            // Czekanie na zakoÅ„czenie wszystkich animacji
            Promise.all(animations).then(() => {
                var end = performance.now();
                console.log('Total Time:', end - start, 'ms');
                sendDataToPHP(end - start);
            });
        }

        function sendDataToPHP(duration) {
            fetch('save_data.php', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ time: duration })
            })
                .then(response => response.text())
                .then(data => {
                    console.log('Success:', data);
                })
                .catch((error) => {
                    console.error('Error:', error);
                });
        }
    </script>
</body>

</html>